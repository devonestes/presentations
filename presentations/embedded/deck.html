---
layout: presentation
title: Embedded Application Development (for Web Developers)
permalink: /embedded_development/
---
background-image: url(/assets/images/intro_Ber.png)

---
layout: true
.watermark-left[@devoncestes]
.watermark-middle[GOTO Berlin 2019]

---
class: center, middle, headline

## Embedded Application Development
### &nbsp;

???
# Intro
# Orchard story

---
class: center, middle, headline

## Embedded Application Development
### *for Web Developers

???
# Different -> Lots to learn
# What is embedded software?

---
background-image: url(/assets/images/tesla.jpg)

???
# Famous example
# How do we know?

---
class: center, middle

![](/assets/images/tesla-ota-update.png)

???
# OTA updates
# Other ways to tell

---
class: center, middle

![](/assets/images/fridge-open-source-1.png)

???
# Samsung fridge

---
class: center, middle

![](/assets/images/fridge-open-source-2.png)

???
# 2019 - year of Linux on the refrigerator

---
class: center, middle, headline

## ðŸ¤– Internet of Things ðŸ¤–

???
# Web drove last 20 years
# 1 biggest difference

---
class: center, middle, headline

# ðŸ“¦ Shipping ðŸ“¦

???
# Maybe device not connected to internet
# If it is, user often needs to accept update

---
class: center, middle, headline

# ðŸŽ‰ Success ðŸŽ‰

???
# Agile tells us shipping is key to success
# Waterfall tells us planning is key to success

---
class: center, middle

![Linear growth](/assets/images/IMG-0237.png)

???
# No scale on axes

---
class: center, middle

![Linear growth](/assets/images/IMG-0236.png)

???
# Waterfall only gives us this

---
background-image: url(/assets/images/crystal-ball.jpg)

???
# Not winner of Superbowl
# How will this need to change

---
class: center, middle, headline

## Built the wrong thing
## &nbsp;
## &nbsp;

???
# Truly common
# Pivoting is expensive with hardware!

---
class: center, middle, headline

## Built the wrong thing
## Bugs
## &nbsp;

???
# Can't avoid them all
# Can also be really expensive

---
class: center, middle, headline

## Built the wrong thing
## Bugs
## Security vulnerabilities

???
# Can be thought of as a bug
# Different because stakes are higher

---
class: center, middle, headline

# Product Design

???
# All starts here
# Maybe most expensive mistake possible

---
background-image: url(/assets/images/juicero.jpg)

???
# Made a phone for people who don't like phones
# To avoid this, you have two choices

---
class: center, middle, headline

## KISS
## &nbsp;

---
class: center, middle, headline

## KISS
## Keep It Simple, Stupid

???
# Old saying/rule, but applies to IOT well
# Aligned with the UNIX philosophy

---
background-image: url(/assets/images/warehouse.gif)

???
# Factories have 1000s of these
# When was the last time they updated `ls`?

---
class: center, middle, headline

# Design Sprints

???
# Came out of Google Ventures
# Reduce risk by breadth-first search of problem space

---
class: center, middle, headline

![Design sprint](/assets/images/design-sprint.png)

---
class: center, middle, headline

![](/assets/images/sprint-step1.png)

---
class: center, middle, headline

![](/assets/images/sprint-step2.png)

---
class: center, middle, headline

![](/assets/images/sprint-step3.png)

---
class: center, middle, headline

![](/assets/images/sprint-step4.png)

---
class: center, middle, headline

![](/assets/images/sprint-step5.png)

---
class: center, middle, headline

# Testing

???
How many of you have some sort of monitoring/observability platform that allows
you to monitor production systems?

How many of you test in production?

I have some bad news for you if you put your hand down after the first question
- you're testing in production! If you had total confidence that your
application was working 100% correctly in all situations, then
monitoring/observability is unneeded.

You can't test in production when you don't have access to production devices.
This makes replicating production-like usage of your application extremely
important.

Show picture of Facebook mobile testing:

"In each rack, above the tangle of cables and phones, sits a camera, recording
every onscreen movement in case a developer needs to review a specific hiccup."

A strong type system is really helpful. This gives us a baseline of confidence
in the "correctness" of your program. Again, if deploying is difficult - or
impossible - then you really want to find bugs before your users do.

=====================================
Property testing is extremely helpful (main section - 5 minutes)
=====================================

---
class: center, middle

![](/assets/images/property-testing.jpg)

---
class: padding, middle

```elixir
property "sum of two positive integers is greater than both integers" do
  check all int1 <- pos_integer(),
            int2 <- pos_integer() do
    sum = int1 + int2
    assert sum > int1
    assert sum > int2
  end
end
```

---
class: center, middle, fullscreen-image

![](/assets/images/quickcheck.png)

---
background-image: url(/assets/images/phone_testing.jpg)

???
# Observability is testing in production
# Test in production, but in house! QA is valuable!

---
class: center, middle, headline

# Debugging

???
Running an application on dozens of different hardware platforms is really
tricky to get right! How do you debug when things go wrong?

When it comes to debugging, nothing comes close to the helpfulness of connecting
to a running OTP application.

Even finding out if you have bugs can be really tricky since you might need
users to report them, and they often don't.

=================================================
Show a little bit of the power of the observer (main section - 5 minutes)
=================================================

---
class: center, middle, headline

# Security

???
The "S" in IoT stands for security.

I know what many of you might have been thinking a bit. "Why isn't he mentioning
C or C++ in a talk on embedded software?"

https://www.coreinfrastructure.org/programs/census-project/
Main Language: If the projectâ€™s main language is C or C++, add 2 points.

With great power comes great buffer overflow bugs - Spiderman meme.

You need to be able to do this without opening up your users to huge security
issues. Especially in my case, where money and financial information is
involved and it's connected to the internet, we needed to be rock solid.

Do you really want to run code written by strangers on the internet on your
users' devices?

I love that we trust the OSS community as much as we do, but this is potentially
dangerous. There are a whole host of possible attack vectors, and the
combinatorial explosion of possible attack targets makes using dependencies a
risky business.

Limit your use of dependencies - this basically rules out JavaScript.

---
class: center, middle, fullscreen-image

![](/assets/images/tangled-shiba.jpg)

---
class: center, middle, fullscreen-image

![](/assets/images/hacker-shiba.jpg)

---
class: center, middle, headline

# The Web

---
layout: false
background-image: url(/assets/images/outro_Ber.png)
